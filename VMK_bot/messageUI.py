"""User Interface module."""
import gettext
import os

class MessageToUser:
    """Performs translation of message into user's language - en/ru."""

    @staticmethod
    def _translate_into_language(message: str, _) -> str:
        """Private method that helps gettext to find patterns to translate.

        Args:
            message (str): message to user
        Returns:
            str
        """
        POSSIBLE_MESSAGES = {
            'Ğ’Ñ‹ Ğ¿Ñ€ĞµĞ²Ñ‹ÑĞ¸Ğ»Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹. ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ': _('Ğ’Ñ‹ Ğ¿Ñ€ĞµĞ²Ñ‹ÑĞ¸Ğ»Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹. ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ'),
            'Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ!\nĞ¯ Ğ±Ğ¾Ñ‚, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ’ĞœĞš': _('Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ!\nĞ¯ Ğ±Ğ¾Ñ‚, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ’ĞœĞš'),
            'Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ²Ğ°ÑˆĞµĞ¹ ÑƒÑ‡ĞµĞ±Ğ½Ğ¾Ğ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹': _('Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ²Ğ°ÑˆĞµĞ¹ ÑƒÑ‡ĞµĞ±Ğ½Ğ¾Ğ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹'),
            '/start - Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼\n/help - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸ Ğ¿Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°Ğ¼': _('/start - Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼\n/help - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸ Ğ¿Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°Ğ¼'),
            'Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ\n': _('Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ\n'),
            'Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ½ĞµĞ´ĞµĞ»Ñ\n': _('Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ½ĞµĞ´ĞµĞ»Ñ\n'),
            'Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°\n': _('Ğ”ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°\n'),
            'Ğ’Ñ‹ Ğ²ĞµÑ€Ğ½ÑƒĞ»Ğ¸ÑÑŒ Ğ² Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ': _('Ğ’Ñ‹ Ğ²ĞµÑ€Ğ½ÑƒĞ»Ğ¸ÑÑŒ Ğ² Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ'),
            'Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ñ!': _('Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ñ!'),
            'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹!\nĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºÑƒ': _('ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹!\nĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºÑƒ'),
            'Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ  â–¶ï¸': _('Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ  â–¶ï¸'),
            'Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°  â©': _('Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°  â©'),
            'Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ½ĞµĞ´ĞµĞ»Ñ  â­': _('Ğ Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ½ĞµĞ´ĞµĞ»Ñ  â­'),
            'Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğ½Ğ°Ğ·Ğ°Ğ´  â†©ï¸': _('Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğ½Ğ°Ğ·Ğ°Ğ´  â†©ï¸'),
            'ĞĞµ Ğ²Ğ¾Ğ»Ğ½ÑƒĞ¹Ñ‚ĞµÑÑŒ, ÑÑ‚Ğ¾ Ğ²Ğ¾ÑĞºÑ€ĞµÑĞµĞ½ÑŒĞµ ğŸ¥³': _('ĞĞµ Ğ²Ğ¾Ğ»Ğ½ÑƒĞ¹Ñ‚ĞµÑÑŒ, ÑÑ‚Ğ¾ Ğ²Ğ¾ÑĞºÑ€ĞµÑĞµĞ½ÑŒĞµ ğŸ¥³'),
            'ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº': _('ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº'),
            'Ğ’Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº': _('Ğ’Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº'),
            'Ğ¡Ñ€ĞµĞ´Ğ°': _('Ğ¡Ñ€ĞµĞ´Ğ°'),
            'Ğ§ĞµÑ‚Ğ²ĞµÑ€Ğ³': _('Ğ§ĞµÑ‚Ğ²ĞµÑ€Ğ³'),
            'ĞŸÑÑ‚Ğ½Ğ¸Ñ†Ğ°': _('ĞŸÑÑ‚Ğ½Ğ¸Ñ†Ğ°'),
            'Ğ¡ÑƒĞ±Ğ±Ğ¾Ñ‚Ğ°': _('Ğ¡ÑƒĞ±Ğ±Ğ¾Ñ‚Ğ°')
        }

        if message not in POSSIBLE_MESSAGES:
            return message

        return POSSIBLE_MESSAGES[message]

    @staticmethod
    def translate(message: str, language: str) -> str:
        """Translates message into user's language.

        Args:
            message (str): message to user
            language (str): user's language
        Returns:
            str
        """
        translation_path = os.path.join(os.path.dirname(__file__), 'translation')
        translation = gettext.translation('user', translation_path, languages=[language], fallback=True)
        _ = translation.gettext

        return MessageToUser._translate_into_language(message, _)
